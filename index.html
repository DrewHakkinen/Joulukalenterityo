<!DOCTYPE html>
<html lang="fi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joulun taikaa</title>
    <link rel="stylesheet" href="tyyli.css"> <!-- haetaan tyylit .css tiedostotsta-->
</head>

<body>
    <div class="reunus1"> <!-- Lisätään reunus otsikolle-->
        <h1> JOULUKALENTERI </h1>
    </div>
    <div class="reunus2"> <!-- Lisätään reunus kalenterille-->
        <form> <!-- Luodaan "gridi", alla grid itemillä sijoitetut kuvaikkuna ja button päällekkäin-->
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva1.jpg');"></div>
                <input type="button" value="1" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva2.jpg');"></div>
                <input type="button" value="2" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva3.jpg');"></div>
                <input type="button" value="3" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva4.jpg');"></div>
                <input type="button" value="4" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva5.jpg');"></div>
                <input type="button" value="5" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva6.jpg');"></div>
                <input type="button" value="6" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva7.jpg');"></div>
                <input type="button" value="7" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva8.jpg');"></div>
                <input type="button" value="8" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva9.jpg');"></div>
                <input type="button" value="9" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva10.jpg');"></div>
                <input type="button" value="10" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva11.jpg');"></div>
                <input type="button" value="11" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva12.jpg');"></div>
                <input type="button" value="12" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva13.png');"></div>
                <input type="button" value="13" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva14.jpg');"></div>
                <input type="button" value="14" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva15.jpeg');"></div>
                <input type="button" value="15" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva16.png');"></div>
                <input type="button" value="16" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva17.png');"></div>
                <input type="button" value="17" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva18.png');"></div>
                <input type="button" value="18" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva19.png');"></div>
                <input type="button" value="19" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva20.jpg');"></div>
                <input type="button" value="20" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva21.jpeg');"></div>
                <input type="button" value="21" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva22.jpeg');"></div>
                <input type="button" value="22" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <div class="photo-box" style="background-image: url('kuva23.jpg');"></div>
                <input type="button" value="23" onclick="avaaLuukku(this)">
            </div>
            <div class="grid-item">
                <input type="button" value="24" onclick="avaaLuukku(this)">
            </div>
        </form>
    </div>
    <div id="vastaus"></div>
    <script> //scripti selvittää päivänmäärän ja antaa avata oikeat laatikot
        function avaaLuukku(button) {
            let tanaan = new Date();
            let paivamaara = tanaan.getDate();
            let luukunnumero = Number(button.value);
            if (paivamaara >= luukunnumero) {
                if (Math.random() < 0.5) {
                    lumisade();
                }
                if (luukunnumero == 24) {
                    window.open('24.html', '_blank');
                }
                button.style.display = "none";
            }
            else {
                return;
            }
        }
        // alla lumisadeanimaatio 50% tod.näköisyydellä
        function lumisade() {
            let maara = 200; // montako hiutaletta

            for (let i = 0; i < maara; i++) {
                let flake = document.createElement("div");

                flake.textContent = "❄";

                // perusulkoasu
                flake.style.position = "fixed";
                flake.style.top = "-20px";
                flake.style.left = Math.random() * window.innerWidth + "px";
                flake.style.fontSize = (Math.random() * 25 + 10) + "px";
                flake.style.opacity = (Math.random() * 0.8 + 0.2);
                flake.style.pointerEvents = "none";

                // animaatio
                let duration = Math.random() * 3 + 3; // 3–6 sekuntia
                flake.style.transition = `transform ${duration}s linear, opacity ${duration}s`;

                document.body.appendChild(flake);

                // käynnistetään pudotus
                setTimeout(() => {
                    flake.style.transform = `translateY(${window.innerHeight + 60}px)`;
                    flake.style.opacity = "0";
                }, 20);

                // poistetaan kun valmis
                setTimeout(() => {
                    flake.remove();
                }, duration * 1000 + 500);
            }
        }
    </script>

</body>

</html>